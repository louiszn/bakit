---
sidebar_position: 3
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import Admonition from "@theme/Admonition";

# Adding Commands

Commands are one of the most common ways to interact with Discord bots, but adding and handling them is not quite easy.
Bakit makes it easier to create both **prefix** and **slash** commands without worrying about the underlying Discord APIs.

## Basic client options

When creating client, you can configure some command-related options like:

- `prefixes` - an array of bot prefixes.
- `enableMentionPrefix` - enable mention prefix (e.g, `@botName ping`)

<Admonition type="info" title="Configuring intents">

Prefix commands rely on the `MessageCreate` event, so you will need to enable related intents. See [Configuring intents](/docs/getting-started/quick-start#configuring-intents).

</Admonition>

Here's a minimal setup:

<Tabs>
	<TabItem value="code" label="src/index.ts">
	
	```ts
	import { BakitClient } from "bakit";
	import { GatewayIntentBits } from "discord.js";

    const client = new BakitClient({
    	intents: [
    		GatewayIntentBits.Guilds,
    		GatewayIntentBits.MessageContent,
    		GatewayIntentBits.GuildMessages,
    	],
    	prefixes: ["!", "?"],
    	enableMentionPrefix: true,
    });

    await client.login(...);
    ```
    </TabItem>

</Tabs>

## Adding Ping command

Usually, you might prefer to split all of your commands into files for each one in `commands` directory, your structure might look like this:

```
src/
├── index.ts
├── commands/
├── ├── PingCommand.ts
├── ├── AvatarCommand.ts
└── listeners/
```

Here's a minimal ping command code in `commands/PingCommand.ts`:

<Tabs>
	<TabItem value="code" label="src/commands/PingCommand.ts">
	
	```ts
	import { Command, type Context } from "bakit";

    const Ping = Command("ping");

    @Command.use(Ping)
    export default class PingCommand {
    	@Ping.main
    	public async execute(context: Context) {
    		await context.send(`Pong! ${context.client.ws.ping}ms!`);
    	}
    }
    ```

    </TabItem>

</Tabs>

By default, the description will be `[command.name] command` (e.g, `ping command`). You can specific a description by using `options` object:

```ts
const Ping = Command({
	name: "ping",
	description: "Get bot latency",
});
```

### Automatically loading your commands

To load your command files automatically, simply use `CommandRegistry.load()` after client with a [glob pattern](https://www.malikbrowne.com/blog/a-beginners-guide-glob-patterns/) that points to your commands directory. 
For example:

<Tabs>
	<TabItem value="code" label="src/index.ts">
	
	```ts
	import { BakitClient, CommandRegistry } from "bakit";

    const client = new BakitClient({
    	intents: [...],
    });

    await CommandRegistry.load("src/commands/**/*.ts");

    await client.login(...);
    ```

    </TabItem>

</Tabs>

<Admonition type="caution" title="Use a correct path to your source code">
	
If you are running your process using TypeScript compiled source (JavaScript), you must use a path that points to the compiled source instead. For example:

```ts
await CommandRegistry.load("dist/commands/**/*.js");
```

</Admonition>

<Admonition type="info" title="Load handlers in parallel">

</Admonition>

After running, bakit will register slash commands automatically. If you don't see any changes, try to reload your Discord client (e.g, `Ctrl + R` on desktop).

After all, you should now be able to use your commands in both prefix and slash:

![Ping command example](/img/ping-example.png)

## More about Bakit's command system

For a more structured, scalable, and maintainable approach, check out the [Advanced Command](/docs/category/command) guide.  
